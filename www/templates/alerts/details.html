<ion-view view-title="{{vm.alertCode}}" cache-view="false">
   <ion-content>
      <div class="card">
         <div class="item item-divider">
            Información alerta
         </div>
         <div class="item item-text-wrap">
            <div class="list">
               <a class="item">
                  Codigo: {{vm.alert.code}}
               </a>
               <a class="item" href="#">
                  Actualizaciones: {{vm.alert.timeLine.length}}
               </a>
               <a class="item" href="#">
                  Fecha: {{vm.alert.date | date: 'dd/MM/yyyy'}}
               </a>
               <a class="item" href="#">
                  Estado: {{vm.getStatus(vm.alert)}}
               </a>
               <a class="item" href="#">
                  Factor: {{vm.getFactor(vm.alert)}}
               </a>
               <a class="item" href="#">
                  Intensidad: {{vm.getIntensity(vm.alert)}}
               </a>
            </div>
         </div>
      </div>

      <div>
         <button class="button button-block button-positive" ng-click="vm.addUpdate()">
            Agregar actualización
         </button>
      </div>

      <div class="card">
         <div class="item item-divider">
            Actualizaciones
         </div>
         <div class="item" ng-repeat="timeline in vm.alert.timeLine | orderBy:'-date' track by $index">
            <div class="list">
               <div class="item" href="#">
                  Fecha: {{timeline.date | date:'dd/MM/yyyy'}}
               </div>
               <ion-item class="item-text-wrap">
                  Descripción: {{timeline.details.description}}
               </ion-item>
               <a class="item" href="#">
                  Estado: {{timeline.details.status === 'close' ? 'Cerrada': 'Abierta'}}
               </a>
               <a class="item" href="#">
                  Factor: {{timeline.details.factor}}
               </a>
               <a class="item" href="#">
                  Intensidad: {{timeline.details.intensity}}
               </a>
            </div>
         </div>
      </div>
   </ion-content>
</ion-view>
